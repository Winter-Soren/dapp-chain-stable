
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../genesis/">
      
      
        <link rel="next" href="../genesis-validators/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.4.8">
    
    
      
        <title>How to configure the rootchain - HAS docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-deploy-and-initialize-rootchain-contracts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="HAS docs" class="md-header__button md-logo" aria-label="HAS docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HAS docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to configure the rootchain
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="HAS docs" class="md-nav__button md-logo" aria-label="HAS docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    HAS docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is HAS-Chain
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            System design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Consensus
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Consensus
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/consensus/polybft/protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consensus protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/consensus/polybft/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polygon Byzantine Fault Tolerance (PolyBFT)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/consensus/polybft/ibft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Istanbul Byzantine Fault Tolerance (IBFT) 2.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/libp2p/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Runtime
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Runtime
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/runtime/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/runtime/allowlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access control list
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/blockchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/mempool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MemoryPool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/txpool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction pool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/txrelayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction relayer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/jsonrpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON-RPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../design/grpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GRPC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build an HAS-powered chain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Build an HAS-powered chain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prepare your environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Prepare your environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install binaries
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deploy a chain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Deploy a chain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../local-chain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to spawn a new child chain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../genesis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure a new child chain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    How to configure the rootchain
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    How to configure the rootchain
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-deploy-and-initialize-rootchain-contracts" class="md-nav__link">
    1. Deploy and Initialize Rootchain Contracts
  </a>
  
    <nav class="md-nav" aria-label="1. Deploy and Initialize Rootchain Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-start-the-geth-node" class="md-nav__link">
    i. Start the Geth Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-deploy-stakemanager-contract" class="md-nav__link">
    ii. Deploy StakeManager Contract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-deployment-considerations" class="md-nav__link">
    2. Deployment Considerations
  </a>
  
    <nav class="md-nav" aria-label="2. Deployment Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-funding-required-for-nodes" class="md-nav__link">
    i. Funding Required for Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-using-an-existing-erc-20-as-the-native-gas-token" class="md-nav__link">
    ii. Using an Existing ERC-20 as the Native Gas Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iii-proxy-contract-admin" class="md-nav__link">
    iii. Proxy Contract Admin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-with-proxy-contract-fallback" class="md-nav__link">
    Issue with Proxy Contract Fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    Recommendations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-deploy-rootchain-contracts" class="md-nav__link">
    3. Deploy Rootchain Contracts
  </a>
  
    <nav class="md-nav" aria-label="3. Deploy Rootchain Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-deploy-stakemanager-contract" class="md-nav__link">
    i. Deploy StakeManager Contract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-deployment-considerations_1" class="md-nav__link">
    2. Deployment Considerations
  </a>
  
    <nav class="md-nav" aria-label="2. Deployment Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-funding-required-for-nodes_1" class="md-nav__link">
    i. Funding Required for Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-using-an-existing-erc-20-as-the-native-gas-token_1" class="md-nav__link">
    ii. Using an Existing ERC-20 as the Native Gas Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-deploy-rootchain-contracts_1" class="md-nav__link">
    3. Deploy Rootchain Contracts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-funding-validators-on-the-rootchain" class="md-nav__link">
    4. Funding Validators on the Rootchain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-next-steps" class="md-nav__link">
    5. Next Steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../genesis-validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure the initial validator set
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../start-chain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to start your chain
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operate your chain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Operate your chain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Access control
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            Access control
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../access-control/allowlist-general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to add and remove accounts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Staking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Staking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../staking/stake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to stake
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../staking/unstake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to unstake
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transfers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            Transfers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../transfers/deposit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to deposit (rootchain->childchain)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../transfers/withdraw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to withdrw (childchain->rootchain)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Assessment Framework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Assessment Framework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../assessment/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../assessment/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithm
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RPC APIs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            RPC APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-eth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethereum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Net
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-web3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-txpool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TxPool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/json-rpc-bridge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bridge
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../param-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config parameter reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Smart contract interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Smart contract interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_1" >
        
          
          <label class="md-nav__link" for="__nav_6_2_1" id="__nav_6_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ERC20
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_1">
            <span class="md-nav__icon md-icon"></span>
            ERC20
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc20/native-erc20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NativeERC20
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc20/childerc20-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC20Predicate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc20/childerc20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC20
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc20/rooterc20-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RootERC20Predicate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2_2" id="__nav_6_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ERC721
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_2">
            <span class="md-nav__icon md-icon"></span>
            ERC721
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc721/childerc721/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC721
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc721/childerc721-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC721Predicate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc721/rooterc721-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RootERC721Predicate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_3" >
        
          
          <label class="md-nav__link" for="__nav_6_2_3" id="__nav_6_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ERC1155
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_3">
            <span class="md-nav__icon md-icon"></span>
            ERC1155
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc1155/childerc1155/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC1155
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc1155/childerc1155-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChildERC1155Predicate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/erc1155/rooterc1155-predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RootERC1155Predicate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/eip1559/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EIP1559Burn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_5" >
        
          
          <label class="md-nav__link" for="__nav_6_2_5" id="__nav_6_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Network
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_5">
            <span class="md-nav__icon md-icon"></span>
            Network
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/network/checkpoint-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CheckpointManager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/network/exit-helper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExitHelper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/network/state-receiver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StateReceiver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/network/state-sender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StateSender
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_6" >
        
          
          <label class="md-nav__link" for="__nav_6_2_6" id="__nav_6_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Validators
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_6">
            <span class="md-nav__icon md-icon"></span>
            Validators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/validators/validator-set-base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValidatorSetBase
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_7" >
        
          
          <label class="md-nav__link" for="__nav_6_2_7" id="__nav_6_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Staking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_7">
            <span class="md-nav__icon md-icon"></span>
            Staking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/staking/stake-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StakeManager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/staking/supernet-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SupernetManager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/staking/custom-supernet-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CustomSupernetManager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_8" >
        
          
          <label class="md-nav__link" for="__nav_6_2_8" id="__nav_6_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cryptography
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_8">
            <span class="md-nav__icon md-icon"></span>
            Cryptography
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/cryptography/bls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BLS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../interfaces/cryptography/bn256g2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BN256G2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../benchmarks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance benchmarks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-deploy-and-initialize-rootchain-contracts" class="md-nav__link">
    1. Deploy and Initialize Rootchain Contracts
  </a>
  
    <nav class="md-nav" aria-label="1. Deploy and Initialize Rootchain Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-start-the-geth-node" class="md-nav__link">
    i. Start the Geth Node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-deploy-stakemanager-contract" class="md-nav__link">
    ii. Deploy StakeManager Contract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-deployment-considerations" class="md-nav__link">
    2. Deployment Considerations
  </a>
  
    <nav class="md-nav" aria-label="2. Deployment Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-funding-required-for-nodes" class="md-nav__link">
    i. Funding Required for Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-using-an-existing-erc-20-as-the-native-gas-token" class="md-nav__link">
    ii. Using an Existing ERC-20 as the Native Gas Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iii-proxy-contract-admin" class="md-nav__link">
    iii. Proxy Contract Admin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-with-proxy-contract-fallback" class="md-nav__link">
    Issue with Proxy Contract Fallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    Recommendations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-deploy-rootchain-contracts" class="md-nav__link">
    3. Deploy Rootchain Contracts
  </a>
  
    <nav class="md-nav" aria-label="3. Deploy Rootchain Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-deploy-stakemanager-contract" class="md-nav__link">
    i. Deploy StakeManager Contract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-deployment-considerations_1" class="md-nav__link">
    2. Deployment Considerations
  </a>
  
    <nav class="md-nav" aria-label="2. Deployment Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-funding-required-for-nodes_1" class="md-nav__link">
    i. Funding Required for Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-using-an-existing-erc-20-as-the-native-gas-token_1" class="md-nav__link">
    ii. Using an Existing ERC-20 as the Native Gas Token
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-deploy-rootchain-contracts_1" class="md-nav__link">
    3. Deploy Rootchain Contracts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-funding-validators-on-the-rootchain" class="md-nav__link">
    4. Funding Validators on the Rootchain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-next-steps" class="md-nav__link">
    5. Next Steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>How to configure the rootchain</h1>

<p>In this section, we'll configure the associated rootchain of the Edge-powered chain and deploy the necessary rootchain core contracts.</p>
<p>After generating the initial chain state for your Edge-powered chain, the next step is to connect and initialize the rootchain contracts. This can be done using either a demo Geth instance or any EVM-compatible rootchain. The demo Geth instance is a local instance of a Geth node running in development mode, which simulates the Ethereum network and is <strong>only intended for testing purposes</strong>.</p>
<h2 id="1-deploy-and-initialize-rootchain-contracts">1. Deploy and Initialize Rootchain Contracts</h2>
<!-- ===================================================================================================================== -->
<!-- ==================================================== ROOTCHAIN TABS ================================================= -->
<!-- ===================================================================================================================== -->

<p><Tabs
defaultValue="geth"
values={[
{ label: 'Demo Geth Instance', value: 'geth', },
{ label: 'EVM-Compatible Rootchain', value: 'rootchain', },
]
}></p>
<!-- ==================================================== GETH ROOTCHAIN ================================================= -->

<p><TabItem value="geth"></p>
<h3 id="i-start-the-geth-node">i. Start the Geth Node</h3>
<p>The <code>polygon-edge</code> rootchain server command starts an ethereum/client-go container, which runs a new Geth node.
To do this, open a new terminal session and run:</p>
<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>server
</code></pre></div>
<details>
<summary>Output example ↓</summary>

You should see output similar to the following, indicating that the rootchain server is now running:

  <div class="highlight"><pre><span></span><code><span class="o">{</span><span class="s2">&quot;status&quot;</span>:<span class="s2">&quot;Pulling from 0xpolygon/go-ethereum-console&quot;</span>,<span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;latest&quot;</span><span class="o">}</span>
<span class="o">{</span><span class="s2">&quot;status&quot;</span>:<span class="s2">&quot;Digest: sha256:6aad124b6775b96d05c94850dcafde45911f7bb2b473328dc4a792b1ffb2bdb6&quot;</span><span class="o">}</span>
<span class="o">{</span><span class="s2">&quot;status&quot;</span>:<span class="s2">&quot;Status: Image is up to date for ghcr.io/0xpolygon/go-ethereum-console:latest&quot;</span><span class="o">}</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:51.496<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>Geth<span class="w"> </span><span class="k">in</span><span class="w"> </span>ephemeral<span class="w"> </span>dev<span class="w"> </span>mode...
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:51.498<span class="o">]</span><span class="w"> </span>You<span class="w"> </span>are<span class="w"> </span>running<span class="w"> </span>Geth<span class="w"> </span><span class="k">in</span><span class="w"> </span>--dev<span class="w"> </span>mode.<span class="w"> </span>Please<span class="w"> </span>note<span class="w"> </span>the<span class="w"> </span>following:

<span class="w">  </span><span class="m">1</span>.<span class="w"> </span>This<span class="w"> </span>mode<span class="w"> </span>is<span class="w"> </span>only<span class="w"> </span>intended<span class="w"> </span><span class="k">for</span><span class="w"> </span>fast,<span class="w"> </span>iterative<span class="w"> </span>development<span class="w"> </span>without<span class="w"> </span>assumptions<span class="w"> </span>on
<span class="w">     </span>security<span class="w"> </span>or<span class="w"> </span>persistence.
<span class="w">  </span><span class="m">2</span>.<span class="w"> </span>The<span class="w"> </span>database<span class="w"> </span>is<span class="w"> </span>created<span class="w"> </span><span class="k">in</span><span class="w"> </span>memory<span class="w"> </span>unless<span class="w"> </span>specified<span class="w"> </span>otherwise.<span class="w"> </span>Therefore,<span class="w"> </span>shutting<span class="w"> </span>down
<span class="w">     </span>your<span class="w"> </span>computer<span class="w"> </span>or<span class="w"> </span>losing<span class="w"> </span>power<span class="w"> </span>will<span class="w"> </span>wipe<span class="w"> </span>your<span class="w"> </span>entire<span class="w"> </span>block<span class="w"> </span>data<span class="w"> </span>and<span class="w"> </span>chain<span class="w"> </span>state<span class="w"> </span><span class="k">for</span>
<span class="w">     </span>your<span class="w"> </span>dev<span class="w"> </span>environment.
<span class="w">  </span><span class="m">3</span>.<span class="w"> </span>A<span class="w"> </span>random,<span class="w"> </span>pre-allocated<span class="w"> </span>developer<span class="w"> </span>account<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>available<span class="w"> </span>and<span class="w"> </span>unlocked<span class="w"> </span>as
<span class="w">     </span>eth.coinbase,<span class="w"> </span>which<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>testing.<span class="w"> </span>The<span class="w"> </span>random<span class="w"> </span>dev<span class="w"> </span>account<span class="w"> </span>is<span class="w"> </span>temporary,
<span class="w">     </span>stored<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>ramdisk,<span class="w"> </span>and<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>lost<span class="w"> </span><span class="k">if</span><span class="w"> </span>your<span class="w"> </span>machine<span class="w"> </span>is<span class="w"> </span>restarted.
<span class="w">  </span><span class="m">4</span>.<span class="w"> </span>Mining<span class="w"> </span>is<span class="w"> </span>enabled<span class="w"> </span>by<span class="w"> </span>default.<span class="w"> </span>However,<span class="w"> </span>the<span class="w"> </span>client<span class="w"> </span>will<span class="w"> </span>only<span class="w"> </span>seal<span class="w"> </span>blocks<span class="w"> </span><span class="k">if</span><span class="w"> </span>transactions
<span class="w">     </span>are<span class="w"> </span>pending<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>mempool.<span class="w"> </span>The<span class="w"> </span>miner<span class="err">&#39;</span>s<span class="w"> </span>minimum<span class="w"> </span>accepted<span class="w"> </span>gas<span class="w"> </span>price<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>.
<span class="w">  </span><span class="m">5</span>.<span class="w"> </span>Networking<span class="w"> </span>is<span class="w"> </span>disabled<span class="p">;</span><span class="w"> </span>there<span class="w"> </span>is<span class="w"> </span>no<span class="w"> </span>listen-address,<span class="w"> </span>the<span class="w"> </span>maximum<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>peers<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span>
<span class="w">     </span>to<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>and<span class="w"> </span>discovery<span class="w"> </span>is<span class="w"> </span>disabled.

INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:51.515<span class="o">]</span><span class="w"> </span>Maximum<span class="w"> </span>peer<span class="w"> </span>count<span class="w">                       </span><span class="nv">ETH</span><span class="o">=</span><span class="m">50</span><span class="w"> </span><span class="nv">LES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">total</span><span class="o">=</span><span class="m">50</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:51.524<span class="o">]</span><span class="w"> </span>Smartcard<span class="w"> </span>socket<span class="w"> </span>not<span class="w"> </span>found,<span class="w"> </span>disabling<span class="w">    </span><span class="nv">err</span><span class="o">=</span><span class="s2">&quot;stat /run/pcscd/pcscd.comm: no such file or directory&quot;</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:51.576<span class="o">]</span><span class="w"> </span>Set<span class="w"> </span>global<span class="w"> </span>gas<span class="w"> </span>cap<span class="w">                       </span><span class="nv">cap</span><span class="o">=</span><span class="m">50</span>,000,000
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.676<span class="o">]</span><span class="w"> </span>Using<span class="w"> </span>developer<span class="w"> </span>account<span class="w">                  </span><span class="nv">address</span><span class="o">=</span>0xd8aC7c1C8A8F34392aD45C250489DeE5D1dC5F51
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.682<span class="o">]</span><span class="w"> </span>Allocated<span class="w"> </span>cache<span class="w"> </span>and<span class="w"> </span>file<span class="w"> </span>handles<span class="w">         </span><span class="nv">database</span><span class="o">=</span>/eth1data/geth/chaindata<span class="w"> </span><span class="nv">cache</span><span class="o">=</span><span class="m">512</span>.00MiB<span class="w"> </span><span class="nv">handles</span><span class="o">=</span><span class="m">524</span>,288
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.807<span class="o">]</span><span class="w"> </span>Opened<span class="w"> </span>ancient<span class="w"> </span>database<span class="w">                  </span><span class="nv">database</span><span class="o">=</span>/eth1data/geth/chaindata/ancient/chain<span class="w"> </span><span class="nv">readonly</span><span class="o">=</span><span class="nb">false</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.824<span class="o">]</span><span class="w"> </span>Allocated<span class="w"> </span>trie<span class="w"> </span>memory<span class="w"> </span>caches<span class="w">             </span><span class="nv">clean</span><span class="o">=</span><span class="m">154</span>.00MiB<span class="w"> </span><span class="nv">dirty</span><span class="o">=</span><span class="m">256</span>.00MiB
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.827<span class="o">]</span><span class="w"> </span>Allocated<span class="w"> </span>cache<span class="w"> </span>and<span class="w"> </span>file<span class="w"> </span>handles<span class="w">         </span><span class="nv">database</span><span class="o">=</span>/eth1data/geth/chaindata<span class="w">               </span><span class="nv">cache</span><span class="o">=</span><span class="m">512</span>.00MiB<span class="w"> </span><span class="nv">handles</span><span class="o">=</span><span class="m">524</span>,288
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:52.987<span class="o">]</span><span class="w"> </span>Opened<span class="w"> </span>ancient<span class="w"> </span>database<span class="w">                  </span><span class="nv">database</span><span class="o">=</span>/eth1data/geth/chaindata/ancient/chain<span class="w"> </span><span class="nv">readonly</span><span class="o">=</span><span class="nb">false</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.003<span class="o">]</span><span class="w"> </span>Initialising<span class="w"> </span>Ethereum<span class="w"> </span>protocol<span class="w">           </span><span class="nv">network</span><span class="o">=</span><span class="m">1337</span><span class="w"> </span><span class="nv">dbversion</span><span class="o">=</span>&lt;nil&gt;
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.005<span class="o">]</span><span class="w"> </span>Writing<span class="w"> </span>custom<span class="w"> </span>genesis<span class="w"> </span>block
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.018<span class="o">]</span><span class="w"> </span>Persisted<span class="w"> </span>trie<span class="w"> </span>from<span class="w"> </span>memory<span class="w"> </span>database<span class="w">      </span><span class="nv">nodes</span><span class="o">=</span><span class="m">12</span><span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">1</span>.82KiB<span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">2</span>.892875ms<span class="w"> </span><span class="nv">gcnodes</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">gcsize</span><span class="o">=</span><span class="m">0</span>.00B<span class="w"> </span><span class="nv">gctime</span><span class="o">=</span>0s<span class="w"> </span><span class="nv">livenodes</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">livesize</span><span class="o">=</span><span class="m">0</span>.00B
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.029<span class="o">]</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.029<span class="o">]</span><span class="w"> </span>---------------------------------------------------------------------------------------------------------------------------------------------------------
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.030<span class="o">]</span><span class="w"> </span>Chain<span class="w"> </span>ID:<span class="w">  </span><span class="m">1337</span><span class="w"> </span><span class="o">(</span>unknown<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.030<span class="o">]</span><span class="w"> </span>Consensus:<span class="w"> </span>Clique<span class="w"> </span><span class="o">(</span>proof-of-authority<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.030<span class="o">]</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.030<span class="o">]</span><span class="w"> </span>Pre-Merge<span class="w"> </span>hard<span class="w"> </span>forks:
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.031<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Homestead:<span class="w">                   </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/homestead.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.031<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Tangerine<span class="w"> </span>Whistle<span class="w"> </span><span class="o">(</span>EIP<span class="w"> </span><span class="m">150</span><span class="o">)</span>:<span class="w"> </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/tangerine-whistle.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.031<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Spurious<span class="w"> </span>Dragon/1<span class="w"> </span><span class="o">(</span>EIP<span class="w"> </span><span class="m">155</span><span class="o">)</span>:<span class="w"> </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.031<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Spurious<span class="w"> </span>Dragon/2<span class="w"> </span><span class="o">(</span>EIP<span class="w"> </span><span class="m">158</span><span class="o">)</span>:<span class="w"> </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/spurious-dragon.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.032<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Byzantium:<span class="w">                   </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/byzantium.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.032<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Constantinople:<span class="w">              </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/constantinople.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.032<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Petersburg:<span class="w">                  </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/petersburg.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.032<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Istanbul:<span class="w">                    </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/istanbul.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.032<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Muir<span class="w"> </span>Glacier:<span class="w">                </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/muir-glacier.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.033<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Berlin:<span class="w">                      </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/berlin.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.033<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>London:<span class="w">                      </span><span class="m">0</span><span class="w">        </span><span class="o">(</span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/london.md<span class="o">)</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.033<span class="o">]</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.033<span class="o">]</span><span class="w"> </span>The<span class="w"> </span>Merge<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>yet<span class="w"> </span>available<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>network!
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.033<span class="o">]</span><span class="w">  </span>-<span class="w"> </span>Hard-fork<span class="w"> </span>specification:<span class="w"> </span>https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/paris.md
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.034<span class="o">]</span><span class="w"> </span>---------------------------------------------------------------------------------------------------------------------------------------------------------
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.034<span class="o">]</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.039<span class="o">]</span><span class="w"> </span>Loaded<span class="w"> </span>most<span class="w"> </span>recent<span class="w"> </span><span class="nb">local</span><span class="w"> </span>header<span class="w">          </span><span class="nv">number</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">hash</span><span class="o">=</span>368c9f..43bc46<span class="w"> </span><span class="nv">td</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">age</span><span class="o">=</span>54y1mo1w
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.040<span class="o">]</span><span class="w"> </span>Loaded<span class="w"> </span>most<span class="w"> </span>recent<span class="w"> </span><span class="nb">local</span><span class="w"> </span>full<span class="w"> </span>block<span class="w">      </span><span class="nv">number</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">hash</span><span class="o">=</span>368c9f..43bc46<span class="w"> </span><span class="nv">td</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">age</span><span class="o">=</span>54y1mo1w
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.040<span class="o">]</span><span class="w"> </span>Loaded<span class="w"> </span>most<span class="w"> </span>recent<span class="w"> </span><span class="nb">local</span><span class="w"> </span>fast<span class="w"> </span>block<span class="w">      </span><span class="nv">number</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">hash</span><span class="o">=</span>368c9f..43bc46<span class="w"> </span><span class="nv">td</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">age</span><span class="o">=</span>54y1mo1w
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.043<span class="o">]</span><span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>load<span class="w"> </span>snapshot<span class="w">                  </span><span class="nv">err</span><span class="o">=</span><span class="s2">&quot;missing or corrupted snapshot&quot;</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.045<span class="o">]</span><span class="w"> </span>Rebuilding<span class="w"> </span>state<span class="w"> </span>snapshot
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.048<span class="o">]</span><span class="w"> </span>Resuming<span class="w"> </span>state<span class="w"> </span>snapshot<span class="w"> </span>generation<span class="w">       </span><span class="nv">root</span><span class="o">=</span>1e8d18..71da09<span class="w"> </span><span class="nv">accounts</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">slots</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">storage</span><span class="o">=</span><span class="m">0</span>.00B<span class="w"> </span><span class="nv">dangling</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="m">2</span>.311ms
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.060<span class="o">]</span><span class="w"> </span>Regenerated<span class="w"> </span><span class="nb">local</span><span class="w"> </span>transaction<span class="w"> </span>journal<span class="w">    </span><span class="nv">transactions</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">accounts</span><span class="o">=</span><span class="m">0</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.064<span class="o">]</span><span class="w"> </span>Generated<span class="w"> </span>state<span class="w"> </span>snapshot<span class="w">                 </span><span class="nv">accounts</span><span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="nv">slots</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">storage</span><span class="o">=</span><span class="m">412</span>.00B<span class="w"> </span><span class="nv">dangling</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="m">18</span>.140ms
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.066<span class="o">]</span><span class="w"> </span>Gasprice<span class="w"> </span>oracle<span class="w"> </span>is<span class="w"> </span>ignoring<span class="w"> </span>threshold<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="nv">threshold</span><span class="o">=</span><span class="m">2</span>
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.071<span class="o">]</span><span class="w"> </span>Error<span class="w"> </span>reading<span class="w"> </span>unclean<span class="w"> </span>shutdown<span class="w"> </span>markers<span class="w">   </span><span class="nv">error</span><span class="o">=</span><span class="s2">&quot;leveldb: not found&quot;</span>
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.072<span class="o">]</span><span class="w"> </span>Engine<span class="w"> </span>API<span class="w"> </span>enabled<span class="w">                       </span><span class="nv">protocol</span><span class="o">=</span>eth
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.072<span class="o">]</span><span class="w"> </span>Engine<span class="w"> </span>API<span class="w"> </span>started<span class="w"> </span>but<span class="w"> </span>chain<span class="w"> </span>not<span class="w"> </span>configured<span class="w"> </span><span class="k">for</span><span class="w"> </span>merge<span class="w"> </span>yet
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.073<span class="o">]</span><span class="w"> </span>Stored<span class="w"> </span>checkpoint<span class="w"> </span>snapshot<span class="w"> </span>to<span class="w"> </span>disk<span class="w">       </span><span class="nv">number</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">hash</span><span class="o">=</span>368c9f..43bc46
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.076<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>peer-to-peer<span class="w"> </span>node<span class="w">               </span><span class="nv">instance</span><span class="o">=</span>Geth/v1.11.0-unstable-b590faff-20221007/linux-amd64/go1.18.6
WARN<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.077<span class="o">]</span><span class="w"> </span>P2P<span class="w"> </span>server<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>useless,<span class="w"> </span>neither<span class="w"> </span>dialing<span class="w"> </span>nor<span class="w"> </span>listening
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.137<span class="o">]</span><span class="w"> </span>New<span class="w"> </span><span class="nb">local</span><span class="w"> </span>node<span class="w"> </span>record<span class="w">                    </span><span class="nv">seq</span><span class="o">=</span><span class="m">1</span>,683,193,733,117<span class="w"> </span><span class="nv">id</span><span class="o">=</span>bb78e0f3d24eccb1<span class="w"> </span><span class="nv">ip</span><span class="o">=</span><span class="m">127</span>.0.0.1<span class="w"> </span><span class="nv">udp</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">tcp</span><span class="o">=</span><span class="m">0</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.145<span class="o">]</span><span class="w"> </span>Started<span class="w"> </span>P2P<span class="w"> </span>networking<span class="w">                   </span><span class="nv">self</span><span class="o">=</span>enode://d1a6c5a13a7469707feec8af30254f4fba1035fee47c56514790020dacbcbaeace23943e0838e7dd6555f6f723cf1d4c9ff3a00ebdf2bb796c71787fbd6407cc@127.0.0.1:0
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.151<span class="o">]</span><span class="w"> </span>IPC<span class="w"> </span>endpoint<span class="w"> </span>opened<span class="w">                      </span><span class="nv">url</span><span class="o">=</span>/eth1data/geth.ipc
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.159<span class="o">]</span><span class="w"> </span>Generated<span class="w"> </span>JWT<span class="w"> </span>secret<span class="w">                     </span><span class="nv">path</span><span class="o">=</span>/eth1data/geth/jwtsecret
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.163<span class="o">]</span><span class="w"> </span>HTTP<span class="w"> </span>server<span class="w"> </span>started<span class="w">                      </span><span class="nv">endpoint</span><span class="o">=[</span>::<span class="o">]</span>:8545<span class="w"> </span><span class="nv">auth</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="nv">prefix</span><span class="o">=</span><span class="w"> </span><span class="nv">cors</span><span class="o">=</span><span class="w"> </span><span class="nv">vhosts</span><span class="o">=</span>localhost
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.163<span class="o">]</span><span class="w"> </span>WebSocket<span class="w"> </span>enabled<span class="w">                        </span><span class="nv">url</span><span class="o">=</span>ws://<span class="o">[</span>::<span class="o">]</span>:8546
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.168<span class="o">]</span><span class="w"> </span>WebSocket<span class="w"> </span>enabled<span class="w">                        </span><span class="nv">url</span><span class="o">=</span>ws://127.0.0.1:8551
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.168<span class="o">]</span><span class="w"> </span>HTTP<span class="w"> </span>server<span class="w"> </span>started<span class="w">                      </span><span class="nv">endpoint</span><span class="o">=</span><span class="m">127</span>.0.0.1:8551<span class="w"> </span><span class="nv">auth</span><span class="o">=</span><span class="nb">true</span><span class="w">  </span><span class="nv">prefix</span><span class="o">=</span><span class="w"> </span><span class="nv">cors</span><span class="o">=</span>localhost<span class="w"> </span><span class="nv">vhosts</span><span class="o">=</span>localhost
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.174<span class="o">]</span><span class="w"> </span>Transaction<span class="w"> </span>pool<span class="w"> </span>price<span class="w"> </span>threshold<span class="w"> </span>updated<span class="w"> </span><span class="nv">price</span><span class="o">=</span><span class="m">0</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.175<span class="o">]</span><span class="w"> </span>Updated<span class="w"> </span>mining<span class="w"> </span>threads<span class="w">                   </span><span class="nv">threads</span><span class="o">=</span><span class="m">0</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.175<span class="o">]</span><span class="w"> </span>Transaction<span class="w"> </span>pool<span class="w"> </span>price<span class="w"> </span>threshold<span class="w"> </span>updated<span class="w"> </span><span class="nv">price</span><span class="o">=</span><span class="m">1</span>
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.175<span class="o">]</span><span class="w"> </span>Etherbase<span class="w"> </span>automatically<span class="w"> </span>configured<span class="w">       </span><span class="nv">address</span><span class="o">=</span>0xd8aC7c1C8A8F34392aD45C250489DeE5D1dC5F51
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.179<span class="o">]</span><span class="w"> </span>Commit<span class="w"> </span>new<span class="w"> </span>sealing<span class="w"> </span>work<span class="w">                  </span><span class="nv">number</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">sealhash</span><span class="o">=</span>c40800..8372ed<span class="w"> </span><span class="nv">uncles</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">txs</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">gas</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">fees</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="m">2</span>.295ms
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.180<span class="o">]</span><span class="w"> </span>Commit<span class="w"> </span>new<span class="w"> </span>sealing<span class="w"> </span>work<span class="w">                  </span><span class="nv">number</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">sealhash</span><span class="o">=</span>c40800..8372ed<span class="w"> </span><span class="nv">uncles</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">txs</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">gas</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">fees</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="m">3</span>.644ms
INFO<span class="w"> </span><span class="o">[</span><span class="m">05</span>-04<span class="p">|</span><span class="m">09</span>:48:53.185<span class="o">]</span><span class="w"> </span>Successfully<span class="w"> </span>sealed<span class="w"> </span>new<span class="w"> </span>block<span class="w">            </span><span class="nv">number</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">sealhash</span><span class="o">=</span>c40800..8372ed<span class="w"> </span><span class="nv">hash</span><span class="o">=</span>75c2e6..45c554<span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="m">6</span>.768ms
</code></pre></div>

</details>

<p>This will start the rootchain server on the default JSON-RPC port of <code>8545</code>.</p>
<h3 id="ii-deploy-stakemanager-contract">ii. Deploy StakeManager Contract</h3>
<p>:::caution</p>
<p>If you have already deployed the StakeManager, you may skip the step and move onto <a href="#deploy-rootchain-contracts"><ins>Deploy rootchain contracts</ins></a>.</p>
<p>:::</p>
<p>If the <code>StakeManager</code> hasn't been deployed to the rootchain, you need to carry out this step. This command also contains a test flag. This flag is strictly for testing purposes, and its usage results in deploying a mock ERC-20 token that will serve for staking.</p>
<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>polybft<span class="w"> </span>stake-manager-deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--proxy-contracts-admin<span class="w"> </span>0xaddressOfProxyContractsAdmin<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--private-key<span class="w"> </span>&lt;hex_encoded_rootchain_account_private_key&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--jsonrpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--stake-token<span class="w"> </span>0xaddressOfStakeToken<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--test
</code></pre></div>
<details>
<summary>Flags ↓</summary>

| Flag                         | Description                                                                   | Example                                         |
|------------------------------|-------------------------------------------------------------------------------|-------------------------------------------------|
| `--config`                   | The path to the SecretsManager config file. If omitted, the local FS secrets manager is used. | `--config /path/to/config`                  |
| `--data-dir`                 | The directory for the Polygon Edge data if the local FS is used.              | `--data-dir test-chain-`                     |
| `--genesis`                  | Genesis file path, which contains chain configuration.                        | `--genesis ./genesis.json`                    |
| `-h, --help`                 | Help for stake-manager-deploy.                                                |                                                 |
| `--jsonrpc`                  | The JSON-RPC interface.                                                       | `--jsonrpc http://0.0.0.0:8545`              |
| `--private-key`              | Hex-encoded private key of the account which executes rootchain commands.     | `--private-key <PRIVATE_KEY>`                |
| `--proxy-contracts-admin`    | Admin for proxy contracts.                                                    | `--proxy-contracts-admin <PROXY_CONTRACTS_ADMIN>` |
| `--stake-token`              | Address of ERC20 token used for staking on rootchain.                         | `--stake-token <STAKE_TOKEN_ADDRESS>`         |
| `--test`                     | Indicates if the command is run in test mode. If test mode is used, the contract will be deployed using a test account, and a test stake ERC20 token will be deployed for staking. | `--test` |

</details>

<h2 id="2-deployment-considerations">2. Deployment Considerations</h2>
<p>To deploy the rootchain contracts, we use the <code>polygon-edge rootchain deploy</code> command. Before deployment, consider the following actions:</p>
<h3 id="i-funding-required-for-nodes">i. Funding Required for Nodes</h3>
<p>Before initializing the contracts on the rootchain, we need to make sure that the nodes are funded with sufficient funds to cover the gas cost of deploying the contracts. Otherwise, the initialization process may fail due to a lack of funds. </p>
<p>Note that the demo server already funds the default test account. If you're not omitting <code>--deployer-key</code>, ensure that you pass the correct key; otherwise, you may encounter an error due to insufficient funds, such as the following:</p>
<div class="highlight"><pre><span></span><code>failed<span class="w"> </span>to<span class="w"> </span>deploy<span class="w"> </span>rootchain<span class="w"> </span>contracts:<span class="w"> </span><span class="o">{</span><span class="s2">&quot;code&quot;</span>:-32000,<span class="s2">&quot;message&quot;</span>:<span class="s2">&quot;INTERNAL_ERROR: insufficient funds&quot;</span><span class="o">}</span>
</code></pre></div>
<p>You can also create a rootchain wallet and fund the nodes by using <code>polygon-cli</code>.
Follow the steps outlined <a href="https://github.com/maticnetwork/polygon-cli"><ins>here</ins></a>.</p>
<h3 id="ii-using-an-existing-erc-20-as-the-native-gas-token">ii. Using an Existing ERC-20 as the Native Gas Token</h3>
<p>If you already have an ERC-20 token deployed on the rootchain that you want to use as the gas token, you can specify its address using the <code>--erc20-token</code> flag when deploying the rootchain contracts. For example:</p>
<details>
<summary>Example ↓</summary>

<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json-rpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--erc20-token<span class="w"> </span>&lt;ERC20_TOKEN_ADDRESS&gt;
</code></pre></div>

</details>

<p>Replace <code>&lt;ERC20_TOKEN_ADDRESS&gt;</code> with the address of your existing ERC-20 token on the rootchain.</p>
<p>To deposit a desired amount and mint it on the childchain, please refer to the guidelines outlined in the deposit guide <a href="../transfers/deposit/"><ins>here</ins></a>.</p>
<h3 id="iii-proxy-contract-admin">iii. Proxy Contract Admin</h3>
<p>The introduction of the proxy contract admin in v1.3 brings about new considerations for deployment and contract interaction.</p>
<h3 id="issue-with-proxy-contract-fallback">Issue with Proxy Contract Fallback</h3>
<p>A notable issue arises when the proxy contract's admin attempts to fallback to the proxy target. Specifically, the initialization on the StakeManager seems to be invoked using the admin account, which is set by the <code>--proxy-contracts-admin</code> flag. </p>
<blockquote>
<p>According to the design of the <a href="https://docs.openzeppelin.com/contracts/4.x/api/proxy#TransparentUpgradeableProxy"><ins>TransparentUpgradeableProxy</ins></a>, the admin account for the proxy contract is prohibited from calling any function on the implementation contract. This design choice ensures that the admin account's privileges are strictly limited to administrative tasks, preventing potential misuse or unintended interactions.</p>
</blockquote>
<h3 id="recommendations">Recommendations</h3>
<ol>
<li>
<p><strong>Exclusive Use of Admin Account</strong>: Ensure that the address specified in the <code>--proxy-contracts-admin</code> flag is used exclusively for administrative functions. This includes tasks such as updating the implementation contract address and modifying the admin.</p>
</li>
<li>
<p><strong>Avoid Using Admin as Deployer</strong>: Ensure that the address used in the <code>--proxy-contracts-admin</code> flag is not employed as a contract deployer. This is especially important in cases like the stake manager deployment.</p>
</li>
<li>
<p><strong>Restricted Function Calls</strong>: The admin account should never be used to invoke any function on the implementation contract. This restriction is in line with the design of the <code>TransparentUpgradeableProxy</code> and ensures that the admin account remains solely for administrative tasks.</p>
</li>
</ol>
<h2 id="3-deploy-rootchain-contracts">3. Deploy Rootchain Contracts</h2>
<p>Using the <code>--deployer-key</code> flag, you will need to replace <code>&lt;hex_encoded_deployer_private_key&gt;</code> with the hex-encoded private key of the deployer account that will be used to deploy the smart contracts. If you omit the <code>--deployer-key</code> option, the default account in your local client will be used.</p>
<blockquote>
<p>The user is responsible for providing the deployer key, which should correspond to an address with sufficient funds for deployment. It is recommended to ensure the account is pre-funded before initiating the deployment process.</p>
</blockquote>
<p>To run the deployment in test mode and use the test account provided by the Geth dev instance as the depositor, add the <code>--test</code> flag. In this case, you may omit the <code>--deployer-key</code> flag, and the default test account will be used as the depositor.</p>
<details>
<summary>Flags ↓</summary>

| Flag                         | Description                                                                   | Example                                         |
|------------------------------|-------------------------------------------------------------------------------|-------------------------------------------------|
| `--deployer-key`             | Hex-encoded private key of the account which deploys rootchain contracts     | `--deployer-key <PRIVATE_KEY>`                  |
| `--erc20-token`              | Existing root chain root native token address                                | `--erc20-token <ERC_20_ADDRESS>`                |
| `--genesis`                  | Genesis file path, which contains chain configuration (default "./genesis.json") | `--genesis ./genesis.json`                    |
| `-h, --help`                 | Help for deploy                                                               |                                                 |
| `--json-rpc`                 | The JSON RPC rootchain IP address (default "http://127.0.0.1:8545")           | `--json-rpc http://127.0.0.1:8545`            |
| `--proxy-contracts-admin`    | Admin for proxy contracts                                                     | `--proxy-contracts-admin <PROXY_CONTRACTS_ADMIN>` |
| `--stake-manager`            | Address of stake manager contract                                             | `--stake-manager <STAKE_MANAGER_ADDRESS>`     |
| `--stake-token`              | Address of ERC20 token used for staking on rootchain                         | `--stake-token <STAKE_TOKEN_ADDRESS>`         |
| `--test`                     | Indicates whether rootchain contracts deployer is hardcoded test account     | `--test`                                        |

</details>

<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--deployer-key<span class="w"> </span>&lt;hex_encoded_rootchain_account_private_key&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--stake-manager<span class="w"> </span>&lt;address_of_stake_manager_contract&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--stake-token<span class="w"> </span>0xaddressOfStakeToken<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--proxy-contracts-admin<span class="w"> </span>0xaddressOfProxyContractsAdmin<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json-rpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--test
</code></pre></div>
<p>The above example will get the <code>stake-manager</code> and <code>stake-token</code> addresses directly from the <code>genesis.json</code> file. </p>
<details>
<summary>Core contract deployment output example</summary>

<div class="highlight"><pre><span></span><code><span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>started...<span class="w"> </span>Rootchain<span class="w"> </span>JSON<span class="w"> </span>RPC<span class="w"> </span>address<span class="w"> </span>http://127.0.0.1:8545.


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC20
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x6FE03c2768C9d800AF3Dedf1878b5687FE120a27
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x5c77b2fbc658c97ceba964efd512f6fb01224ca0f81b6f97fbc0f258c7ae3b2b


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC721
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x3d46A809D5767B81a8836f0E79145ba615A2Dd61
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xdb3051d76de9296e3e2f8e723b85bc679e183bdbd47820506af61828bec17da3


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC1155
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x72E1C51FE6dABF2e3d5701170cf5aD3620E6B8ba
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x99f8897fe1d921b58aac44fef3d35e986186dee8d2ea8f06b55ca3c5e775c431


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>StateSender
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x436604426F31A05f905C64edc973E575BdB46471
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xcb1d9674f1c928527a470d74532a6fe1e755e64909c8ecd5cce014d7330fb500


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>CheckpointManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x947a581B2713F58A8145201DA41BCb6aAE90196B
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xf6bb5054971c0d0a135ae63767a39d4cd6f1401a961e6abcfca47351576a1235


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>BLS
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x1BfAdFDc7554f618665e3EAE7C22DE2B5ab54786
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xecad816ee9c8cee2bf646dd077ca26ac9d07f1593967c3b94ff7fa1110e0cd73


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>BN256G2
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x22C246401ed6e52C525644659C5304aed63516C7
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xf220bb6dcd40eef63df0517cb4ed768dfcb5f432644937b7dcaedcc7b4b5342e


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ExitHelper
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x88d3678C1e99Fc0b699fCA4cf2BC1c2C75C7f272
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xa77415d8d06f6fd0973cd844ba67582afd34808c9943a9c2f8305a4f53ea66de


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC20Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xB3A64e1ffB0867E93665Da1052b3dbAb427A538C
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xdada762e15613a41b3cd37bc8f1c6750d2498f9bd743769549e8b4b6fbba07e1


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC20Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xaCB3Eb2f3c167B56410F0351B6C6EBac9256f553
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xb53e9bc41aca03ea51cd82de944bd84618c25976b475bba9615eef2bf449c5d3


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC721Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xA1DFe8536732EB98BBCA36A7f97C72e3395EaB8E
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x4ee43d7754f03e4322ac8eb29bfd2c8410e837f42a786ae0f13f6aee4795c815


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC721Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x8d83F76FB303d30d35E1A8FAafB69294C8bD4069
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x242d30e721e5a9a4324f92e5874a62de6bc65089b51013a4fbac6033cdf2a6fc


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC1155Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x0e3C79887960455083c5F063035C723c61906811
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x89013a2cfe0c68b73c226cb917822159ae68167b1f8a178e1e63dd8077e245d0


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC1155Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7e5BB8F3721C594Af6aB04D5bDf5C52742F37403
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x3415e2fb208fb0307746d3a0a35794a5de759fd77109d6a043dea7420c8da230


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>StakeManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x811068e4106f7A70D443684FF4927eC3940439Ec
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xe7ab6d4e5002a84b168b195affbf9cdf7bc1f67d05bbeb78e62e4517393626d7


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>CustomSupernetManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x75aA024A2292A3FD3C17d67b54B3d00435437246
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xbe80f099313c6505176a6bc888062ccb124deb83f2e413b0bf076ae5d6b9f6e5

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>StakeManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>CustomSupernetManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span><span class="o">[</span>VALIDATORS<span class="o">]</span>
<span class="nv">Address</span><span class="o">=</span>0x61324166B0202DB1E7502924326262274Fa4358F<span class="p">;</span><span class="w"> </span><span class="nv">Balance</span><span class="o">=</span><span class="m">1000000</span><span class="p">;</span><span class="w"> </span>P2P<span class="w"> </span>Multi<span class="w"> </span><span class="nv">addr</span><span class="o">=</span>/ip4/127.0.0.1/tcp/30301/p2p/16Uiu2HAmMYyzK7c649Tnn6XdqFLP7fpPB2QWdck1Ee9vj5a7Nhg8<span class="p">;</span><span class="w"> </span>BLS<span class="w"> </span><span class="nv">Key</span><span class="o">=</span>06d8d9e6af67c28e85ac400b72c2e635e83234f8a380865e050a206554049a222c4792120d84977a6ca669df56ff3a1cf1cfeccddb650e7aacff4ed6c1d4e37b055858209f80117b3c0a6e7a28e456d4caf2270f430f9df2ba37221f23e9bbd313c9ef488e1849cc5c40d18284d019dde5ed86770309b9c24b70ceff6167a6ca<span class="p">;</span>
<span class="nv">Address</span><span class="o">=</span>0xFE5E166BA5EA50c04fCa00b07b59966E6C2E9570<span class="p">;</span><span class="w"> </span><span class="nv">Balance</span><span class="o">=</span><span class="m">1000000000000000000000000</span><span class="p">;</span><span class="w"> </span>P2P<span class="w"> </span>Multi<span class="w"> </span><span class="nv">addr</span><span class="o">=</span>/ip4/127.0.0.1/tcp/30302/p2p/16Uiu2HAmLXVapjR2Yx3B1taCmHnckQ1ph2xrawBjW2kvSErps9CX<span class="p">;</span><span class="w"> </span>BLS<span class="w"> </span><span class="nv">Key</span><span class="o">=</span>0601da8856a6d3d3bb0f3bcbb90ea7b8c0db8271b9203e6123c6804aa3fc5f810be33287968ca1af2be11839516850a6ffef2337d99e679b7531efbbea2e3bf727a053c0cbede71da3d5f489b6ad862ccd8bb0bfb7fa379e3395d3b1142594a73020e87d63c298a3a4eba0ace65727f8659bab6389b9448b72512db72bbe937f<span class="p">;</span>
<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>Validators<span class="w"> </span>hash:<span class="w"> </span>0x9d31cd8a803b09a9c5e054301977b1f5b758c56f811351e937a0a3792e2ef8b1
<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>CheckpointManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>ExitHelper<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC20Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC721Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC1155Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>finished.<span class="w"> </span>All<span class="w"> </span>contracts<span class="w"> </span>are<span class="w"> </span>successfully<span class="w"> </span>deployed<span class="w"> </span>and<span class="w"> </span>initialized.
</code></pre></div>

</details>

<p></TabItem></p>
<!-- =================================================== ANY ROOTCHAIN ================================================ -->

<p><TabItem value="rootchain"></p>
<h3 id="i-deploy-stakemanager-contract">i. Deploy StakeManager Contract</h3>
<p>:::caution</p>
<p>If you have already deployed the StakeManager, you may skip the step and move onto <a href="#deploy-rootchain-contracts"><ins>Deploy rootchain contracts</ins></a>.</p>
<p>:::</p>
<p>This command includes a test flag, which is intended solely for testing scenarios. When this flag is used, a mock ERC-20 token is deployed for staking. However, in non-testing environments, remember to specify the <code>stake-token</code> flag with the address of the token that's already deployed on the rootchain and will be used for staking.</p>
<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>polybft<span class="w"> </span>stake-manager-deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--proxy-contracts-admin<span class="w"> </span>0xaddressOfProxyContractsAdmin<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--deployer-key<span class="w"> </span>&lt;hex_encoded_rootchain_account_private_key&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--jsonrpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--stake-token<span class="w"> </span>0xaddressOfStakeToken<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--test
</code></pre></div>
<details>
<summary>Flags ↓</summary>

| Flag            | Description                                                                                            | Example |
|-----------------|--------------------------------------------------------------------------------------------------------|---------|
| `--config`      | Path to the SecretsManager config file, if omitted, the local FS secrets manager is used               |         |
| `--data-dir`    | Directory for the Polygon Edge data if the local FS is used                                            |         |
| `--genesis`     | Genesis file path, which contains chain configuration (default "./genesis.json")                       |         |
| `--jsonrpc`     | The JSON-RPC interface (default "0.0.0.0:8545")                                                        |         |
| `--private-key` | Hex-encoded private key of the account which executes rootchain commands                               |         |
| `--stake-token` | Address of ERC20 token used for staking on rootchain                                                   |         |
| `--test`        | Contract will be deployed using test account and a test stake ERC20 token will be deployed for staking |         |

</details>

<h2 id="2-deployment-considerations_1">2. Deployment Considerations</h2>
<p>To deploy the rootchain contracts, we use the <code>polygon-edge rootchain deploy</code> command. Before deployment, consider the following actions:</p>
<h3 id="i-funding-required-for-nodes_1">i. Funding Required for Nodes</h3>
<p>Before initializing the contracts on the rootchain, we need to make sure that the nodes are funded with sufficient funds to cover the gas cost of deploying the contracts. Otherwise, the initialization process may fail due to a lack of funds. </p>
<p>Note that the demo server already funds the default test account. If you're not omitting <code>--deployer-key</code>, ensure that you pass the correct key; otherwise, you may encounter an error due to insufficient funds, such as the following:</p>
<div class="highlight"><pre><span></span><code>failed<span class="w"> </span>to<span class="w"> </span>deploy<span class="w"> </span>rootchain<span class="w"> </span>contracts:<span class="w"> </span><span class="o">{</span><span class="s2">&quot;code&quot;</span>:-32000,<span class="s2">&quot;message&quot;</span>:<span class="s2">&quot;INTERNAL_ERROR: insufficient funds&quot;</span><span class="o">}</span>
</code></pre></div>
<p>You can also create a rootchain wallet and fund the nodes by using <code>polygon-cli</code>.
Follow the steps outlined <a href="https://github.com/maticnetwork/polygon-cli"><ins>here</ins></a>.</p>
<h3 id="ii-using-an-existing-erc-20-as-the-native-gas-token_1">ii. Using an Existing ERC-20 as the Native Gas Token</h3>
<p>If you already have an ERC-20 token deployed on the rootchain that you want to use as the gas token, you can specify its address using the <code>--erc20-token</code> flag when deploying the rootchain contracts. For example:</p>
<details>
<summary>Example ↓</summary>

<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json-rpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--erc20-token<span class="w"> </span>&lt;ERC20_TOKEN_ADDRESS&gt;
</code></pre></div>

</details>

<p>Replace <code>&lt;ERC20_TOKEN_ADDRESS&gt;</code> with the address of your existing ERC-20 token on the rootchain.</p>
<p>To deposit a desired amount and mint it on the childchain, please refer to the guidelines outlined in the deposit guide <a href="../transfers/deposit/"><ins>here</ins></a>.</p>
<h2 id="3-deploy-rootchain-contracts_1">3. Deploy Rootchain Contracts</h2>
<p>Using the <code>--deployer-key</code> flag, you will need to replace <code>&lt;hex_encoded_deployer_private_key&gt;</code> with the hex-encoded private key of the deployer account that will be used to deploy the smart contracts. If you omit the <code>--deployer-key</code> option, the default account in your local client will be used.</p>
<p>You also need to specify the path to the genesis file using the <code>--genesis</code> option, and the endpoint for the JSON-RPC endpoint for the rootchain using the <code>--json-rpc</code> option.</p>
<details>
<summary>Flags ↓</summary>

| Flag                  | Description                                                              | Example                                       |
|-----------------------|--------------------------------------------------------------------------|-----------------------------------------------|
| `--deployer-key`      | Hex encoded private key of the account which deploys rootchain contracts | `--deployer-key <PRIVATE_KEY>`                |
| `--json-rpc`          | The JSON RPC rootchain IP address (e.g. http://127.0.0.1:8545)           | `--json-rpc http://127.0.0.1:8545`            |
| `--genesis`           | Genesis file path that contains chain configuration                      | `--genesis ./genesis.json`                    |
| `--erc20-token`       | Existing rootchain ERC-20 token address                                  | `--erc20-token <ERC_20_ADDRESS>`              |
| `--stake-manager`     | Address of stake manager contract                                        | `--stake-manager <STAKE_MANAGER_ADDRESS>`     |
| `--stake-token`       | Address of ERC20 token used for staking on rootchain                     | `--stake-token <STAKE_TOKEN_ADDRESS>`         |
| `--test`              | Indicates whether rootchain contracts deployer is hardcoded test account | `--test`                                      |

</details>

<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--deployer-key<span class="w"> </span>0x0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--genesis<span class="w"> </span>./genesis.json<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json-rpc<span class="w"> </span>http://127.0.0.1:8545<span class="w"> </span><span class="se">\</span>
</code></pre></div>
<details>
<summary>Core contract deployment output example ↓</summary>

<div class="highlight"><pre><span></span><code><span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>started...<span class="w"> </span>Rootchain<span class="w"> </span>JSON<span class="w"> </span>RPC<span class="w"> </span>address<span class="w"> </span>http://127.0.0.1:8545.


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC20
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x6FE03c2768C9d800AF3Dedf1878b5687FE120a27
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x5c77b2fbc658c97ceba964efd512f6fb01224ca0f81b6f97fbc0f258c7ae3b2b


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC721
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x3d46A809D5767B81a8836f0E79145ba615A2Dd61
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xdb3051d76de9296e3e2f8e723b85bc679e183bdbd47820506af61828bec17da3


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC1155
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x72E1C51FE6dABF2e3d5701170cf5aD3620E6B8ba
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x99f8897fe1d921b58aac44fef3d35e986186dee8d2ea8f06b55ca3c5e775c431


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>StateSender
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x436604426F31A05f905C64edc973E575BdB46471
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xcb1d9674f1c928527a470d74532a6fe1e755e64909c8ecd5cce014d7330fb500


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>CheckpointManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x947a581B2713F58A8145201DA41BCb6aAE90196B
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xf6bb5054971c0d0a135ae63767a39d4cd6f1401a961e6abcfca47351576a1235


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>BLS
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x1BfAdFDc7554f618665e3EAE7C22DE2B5ab54786
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xecad816ee9c8cee2bf646dd077ca26ac9d07f1593967c3b94ff7fa1110e0cd73


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>BN256G2
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x22C246401ed6e52C525644659C5304aed63516C7
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xf220bb6dcd40eef63df0517cb4ed768dfcb5f432644937b7dcaedcc7b4b5342e


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ExitHelper
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x88d3678C1e99Fc0b699fCA4cf2BC1c2C75C7f272
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xa77415d8d06f6fd0973cd844ba67582afd34808c9943a9c2f8305a4f53ea66de


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC20Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xB3A64e1ffB0867E93665Da1052b3dbAb427A538C
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xdada762e15613a41b3cd37bc8f1c6750d2498f9bd743769549e8b4b6fbba07e1


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC20Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xaCB3Eb2f3c167B56410F0351B6C6EBac9256f553
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xb53e9bc41aca03ea51cd82de944bd84618c25976b475bba9615eef2bf449c5d3


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC721Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xA1DFe8536732EB98BBCA36A7f97C72e3395EaB8E
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x4ee43d7754f03e4322ac8eb29bfd2c8410e837f42a786ae0f13f6aee4795c815


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC721Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x8d83F76FB303d30d35E1A8FAafB69294C8bD4069
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x242d30e721e5a9a4324f92e5874a62de6bc65089b51013a4fbac6033cdf2a6fc


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>RootERC1155Predicate
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x0e3C79887960455083c5F063035C723c61906811
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x89013a2cfe0c68b73c226cb917822159ae68167b1f8a178e1e63dd8077e245d0


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>ERC1155Template
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7e5BB8F3721C594Af6aB04D5bDf5C52742F37403
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x3415e2fb208fb0307746d3a0a35794a5de759fd77109d6a043dea7420c8da230


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>StakeManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x811068e4106f7A70D443684FF4927eC3940439Ec
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xe7ab6d4e5002a84b168b195affbf9cdf7bc1f67d05bbeb78e62e4517393626d7


<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>DEPLOY<span class="w"> </span>CONTRACT<span class="o">]</span>
<span class="nv">Name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>CustomSupernetManager
Contract<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x75aA024A2292A3FD3C17d67b54B3d00435437246
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0xbe80f099313c6505176a6bc888062ccb124deb83f2e413b0bf076ae5d6b9f6e5

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>StakeManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>CustomSupernetManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span><span class="o">[</span>VALIDATORS<span class="o">]</span>
<span class="nv">Address</span><span class="o">=</span>0x61324166B0202DB1E7502924326262274Fa4358F<span class="p">;</span><span class="w"> </span><span class="nv">Balance</span><span class="o">=</span><span class="m">1000000</span><span class="p">;</span><span class="w"> </span>P2P<span class="w"> </span>Multi<span class="w"> </span><span class="nv">addr</span><span class="o">=</span>/ip4/127.0.0.1/tcp/30301/p2p/16Uiu2HAmMYyzK7c649Tnn6XdqFLP7fpPB2QWdck1Ee9vj5a7Nhg8<span class="p">;</span><span class="w"> </span>BLS<span class="w"> </span><span class="nv">Key</span><span class="o">=</span>06d8d9e6af67c28e85ac400b72c2e635e83234f8a380865e050a206554049a222c4792120d84977a6ca669df56ff3a1cf1cfeccddb650e7aacff4ed6c1d4e37b055858209f80117b3c0a6e7a28e456d4caf2270f430f9df2ba37221f23e9bbd313c9ef488e1849cc5c40d18284d019dde5ed86770309b9c24b70ceff6167a6ca<span class="p">;</span>
<span class="nv">Address</span><span class="o">=</span>0xFE5E166BA5EA50c04fCa00b07b59966E6C2E9570<span class="p">;</span><span class="w"> </span><span class="nv">Balance</span><span class="o">=</span><span class="m">1000000000000000000000000</span><span class="p">;</span><span class="w"> </span>P2P<span class="w"> </span>Multi<span class="w"> </span><span class="nv">addr</span><span class="o">=</span>/ip4/127.0.0.1/tcp/30302/p2p/16Uiu2HAmLXVapjR2Yx3B1taCmHnckQ1ph2xrawBjW2kvSErps9CX<span class="p">;</span><span class="w"> </span>BLS<span class="w"> </span><span class="nv">Key</span><span class="o">=</span>0601da8856a6d3d3bb0f3bcbb90ea7b8c0db8271b9203e6123c6804aa3fc5f810be33287968ca1af2be11839516850a6ffef2337d99e679b7531efbbea2e3bf727a053c0cbede71da3d5f489b6ad862ccd8bb0bfb7fa379e3395d3b1142594a73020e87d63c298a3a4eba0ace65727f8659bab6389b9448b72512db72bbe937f<span class="p">;</span>
<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>Validators<span class="w"> </span>hash:<span class="w"> </span>0x9d31cd8a803b09a9c5e054301977b1f5b758c56f811351e937a0a3792e2ef8b1
<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>CheckpointManager<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>ExitHelper<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC20Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC721Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>RootERC1155Predicate<span class="w"> </span>contract<span class="w"> </span>is<span class="w"> </span>initialized

<span class="o">[</span>ROOTCHAIN<span class="w"> </span>-<span class="w"> </span>CONTRACTS<span class="w"> </span>DEPLOYMENT<span class="o">]</span><span class="w"> </span>finished.<span class="w"> </span>All<span class="w"> </span>contracts<span class="w"> </span>are<span class="w"> </span>successfully<span class="w"> </span>deployed<span class="w"> </span>and<span class="w"> </span>initialized.
</code></pre></div>

</details>

<p></TabItem>
</Tabs></p>
<h2 id="4-funding-validators-on-the-rootchain">4. Funding Validators on the Rootchain</h2>
<p>Before deploying validator nodes on the Edge-powered chain, we need to ensure that the validators have sufficient funds on the rootchain network. It's crucial to have enough funds in the validator account, as they need to cover the gas fees associated with their transactions on the rootchain.</p>
<p>To fund the validators' accounts on the rootchain, we use the <code>polygon-edge rootchain fund</code> command. When executed with the appropriate flags, it will:</p>
<ol>
<li>Retrieve the validator account from the secrets manager.</li>
<li>Send a transaction to fund the validator account on the rootchain with a value of 10,000 $token (the network's native token).</li>
<li>Repeat steps 1 and 2 for each validator.</li>
</ol>
<p><strong>It's important to note that this command is also for testing purposes only.</strong></p>
<p>In a production environment, you would need to ensure that the validators have sufficient funds on the rootchain network to cover the gas fees associated with their transactions.</p>
<p>Here's an example of how to fund a validator account (replace address value with your own):</p>
<div class="highlight"><pre><span></span><code>./polygon-edge<span class="w"> </span>rootchain<span class="w"> </span>fund<span class="w"> </span>--addresses<span class="w"> </span>0x77C1eedFf656477462ce16084fE5Dc7F8a2507B9<span class="w"> </span>--amounts<span class="w"> </span><span class="m">1000000000000000000</span>
</code></pre></div>
<details>
<summary>Funding output example ↓</summary>

  <div class="highlight"><pre><span></span><code><span class="o">[</span>ROOTCHAIN<span class="w"> </span>FUND<span class="o">]</span>
Validator<span class="w"> </span><span class="o">(</span>address<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x77C1eedFf656477462ce16084fE5Dc7F8a2507B9
Transaction<span class="w"> </span><span class="o">(</span><span class="nb">hash</span><span class="o">)</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>0x294952b29e3e8ba15fefe28934090dc0d249d71d48c6b19ebe534840703030a9
Is<span class="w"> </span><span class="nv">minted</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</code></pre></div>

</details>

<h2 id="5-next-steps">5. Next Steps</h2>
<p>Now that we have successfully configured the initial setup of your Edge-powered chain, including both the childchain and rootchain, we can proceed to the next crucial step: rootchain staking and allowlisting through the configuration of the initial validator set.</p>
<p>To accomplish this, navigate to the <a href="../genesis-validators/"><ins>Configure the Initial Validator Set</ins></a> deployment guide.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>